--- /home/runner/sbox-public/engine/Sandbox.Engine/Systems/UI/Controls/Image.cs	2026-01-01 07:45:59.602934667 +0000
+++ ./src/Sandbox.UI/Controls/Image.cs	2026-01-01 07:45:47.900924523 +0000
@@ -1,129 +1,78 @@
-ï»¿namespace Sandbox.UI
+namespace Sandbox.UI;
+
+/// <summary>
+/// A generic box that displays a given texture within itself.
+/// Based on s&box's Image from engine/Sandbox.Engine/Systems/UI/Controls/Image.cs
+/// </summary>
+[Library("image"), Alias("img")]
+public partial class Image : Panel
 {
-	/// <summary>
-	/// A generic box that displays a given texture within itself.
-	/// </summary>
-	[Library( "image" ), Alias( "img" ), Expose]
-	public partial class Image : Panel
-	{
-		/// <summary>
-		/// The texture being displayed by this panel.
-		/// </summary>
-		public Texture Texture { get; set; }
-
-		public override bool HasContent => Texture != null;
-
-		public Image()
-		{
-			YogaNode.SetMeasureFunction( MeasureTexture );
-		}
-
-		/// <summary>
-		/// Set <see cref="Texture"/> from a file path. URLs supported.
-		/// </summary>
-		public async void SetTexture( string name )
-		{
-			if ( string.IsNullOrWhiteSpace( name ) ) return;
-			if ( !IsValid ) return;
-
-			Texture = await Texture.LoadAsync( name );
-
-			if ( !IsValid ) return;
-			YogaNode.MarkDirty(); // Update MeasureTexture
-		}
-
-		float oldScaleToScreen = 1.0f;
-		internal override void PreLayout( LayoutCascade cascade )
-		{
-			base.PreLayout( cascade );
-
-			if ( ScaleToScreen != oldScaleToScreen )
-			{
-				YogaNode.MarkDirty();
-			}
-		}
-
-		internal override void DrawContent( PanelRenderer renderer, ref RenderState state )
-		{
-			if ( Texture == null )
-				return;
-
-			if ( renderer is PanelRenderer pr )
-			{
-				var length = ComputedStyle.ObjectFit switch
-				{
-					ObjectFit.Contain => Length.Contain,
-					ObjectFit.Cover => Length.Cover,
-					ObjectFit.Fill => Length.Percent( 100 ).Value,
-					_ => Length.Auto,
-				};
-
-				pr.DrawBackgroundTexture( this, Texture, state, length );
-			}
-		}
-
-		public override void SetProperty( string name, string value )
-		{
-			base.SetProperty( name, value );
-
-			if ( name == "src" ) SetTexture( value );
-		}
-
-		internal Vector2 MeasureTexture( YGNodeRef node, float width, YGMeasureMode widthMode, float height, YGMeasureMode heightMode )
-		{
-			if ( !Texture.IsValid() ) return default;
-
-			try
-			{
-				var (w, h) = (Texture.Width, Texture.Height);
-				var exact = YGMeasureMode.YGMeasureModeExactly;
-				var atMost = YGMeasureMode.YGMeasureModeAtMost;
-
-				oldScaleToScreen = ScaleToScreen;
-				var ideal = new Vector2( w * ScaleToScreen, h * ScaleToScreen );
-
-				if ( widthMode == exact ) return new Vector2( width, h * width / w );
-				if ( heightMode == exact ) return new Vector2( w * height / h, height );
-
-				if ( widthMode == atMost && heightMode == atMost && (width < ideal.x || height < ideal.y) )
-				{
-					float scale = Math.Min( width / w, height / h );
-					return new Vector2( w * scale, h * scale );
-				}
-
-				if ( widthMode == atMost && width < ideal.x ) return new Vector2( width, h * width / w );
-				if ( heightMode == atMost && height < ideal.y ) return new Vector2( w * height / h, height );
-
-				return ideal;
-			}
-			catch ( System.Exception e )
-			{
-				Log.Warning( e );
-				return default;
-			}
-		}
-
-	}
-
-	namespace Construct
-	{
-		public static class ImageConstructor
-		{
-			/// <summary>
-			/// Create an image with given texture and CSS classname.
-			/// </summary>
-			public static Image Image( this PanelCreator self, string image = null, string classname = null )
-			{
-				var control = self.panel.AddChild<Image>();
-
-				if ( image != null )
-					control.SetTexture( image );
-
-				if ( classname != null )
-					control.AddClass( classname );
-
-				return control;
-			}
-		}
-	}
+    /// <summary>
+    /// The texture/image path being displayed by this panel
+    /// </summary>
+    public string? TexturePath { get; set; }
+
+    public override bool HasContent => TexturePath != null;
+
+    public Image()
+    {
+        YogaNode?.SetMeasureFunction(MeasureTexture);
+    }
+
+    /// <summary>
+    /// Set the texture from a file path
+    /// </summary>
+    public virtual void SetTexture(string? name)
+    {
+        if (string.IsNullOrWhiteSpace(name)) return;
+        TexturePath = name;
+        YogaNode?.MarkDirty();
+    }
+
+    private float oldScaleToScreen = 1.0f;
+
+    internal override void PreLayout(LayoutCascade cascade)
+    {
+        base.PreLayout(cascade);
+
+        if (ScaleToScreen != oldScaleToScreen)
+        {
+            YogaNode?.MarkDirty();
+        }
+    }
+
+    Vector2 MeasureTexture(YGNodeRef node, float width, YGMeasureMode widthMode, float height, YGMeasureMode heightMode)
+    {
+        // Default measurement - renderers should override this based on actual texture size
+        // For now return a placeholder size
+        if (string.IsNullOrEmpty(TexturePath))
+            return new Vector2(0, 0);
+
+        oldScaleToScreen = ScaleToScreen;
+
+        // Return a reasonable default size - actual measurement depends on loaded texture
+        var defaultSize = new Vector2(100 * ScaleToScreen, 100 * ScaleToScreen);
+
+        var exact = YGMeasureMode.Exactly;
+        var atMost = YGMeasureMode.AtMost;
+
+        if (widthMode == exact) return new Vector2(width, width);
+        if (heightMode == exact) return new Vector2(height, height);
+
+        if (widthMode == atMost && width < defaultSize.x) return new Vector2(width, width);
+        if (heightMode == atMost && height < defaultSize.y) return new Vector2(height, height);
+
+        return defaultSize;
+    }
+
+    public override void DrawContent(ref RenderState state)
+    {
+        // Actual image drawing is handled by renderer implementation
+    }
+
+    public override void SetProperty(string name, string value)
+    {
+        if (name == "src")
+            SetTexture(value);
+    }
 }
