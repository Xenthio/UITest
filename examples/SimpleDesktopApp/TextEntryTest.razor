@namespace SimpleDesktopApp
@using Sandbox.UI
@inherits Window

<root title="Text Entry Test" hasminimise="true" hasmaximise="true" hasclose="true" windowwidth="600" windowheight="400">
    <div class="window-content" style="padding: 20px; flex-direction: column; gap: 15px;">
        <div style="font-size: 20px; font-weight: bold;">Text Entry Selection & Caret Test</div>
        
        <div style="flex-direction: column; gap: 10px;">
            <div style="font-weight: bold;">Single Line Text Entry:</div>
            <textentry placeholder="Type here..." @ref="SingleLineEntry" style="padding: 5px; background-color: white; border: 1px solid #ccc;"></textentry>
            <div style="font-size: 12px; color: #666;">Try: typing, selecting with mouse, Shift+arrows, Ctrl+A, Ctrl+arrow (word jump), Home/End, double-click word</div>
        </div>

        <div style="flex-direction: column; gap: 10px;">
            <div style="font-weight: bold;">Multi-Line Text Entry:</div>
            <textentry multiline="true" placeholder="Type multiple lines..." @ref="MultiLineEntry" style="padding: 5px; background-color: white; border: 1px solid #ccc; height: 100px;"></textentry>
            <div style="font-size: 12px; color: #666;">Try: Enter for new lines, Up/Down arrows, multi-line selection</div>
        </div>

        <div style="flex-direction: column; gap: 10px;">
            <div style="font-weight: bold;">Numeric Entry:</div>
            <textentry numeric="true" placeholder="Numbers only..." style="padding: 5px; background-color: white; border: 1px solid #ccc;"></textentry>
            <div style="font-size: 12px; color: #666;">Only digits, decimal point, and minus sign allowed</div>
        </div>

        <div style="flex-direction: column; gap: 10px;">
            <div style="font-weight: bold;">With Pre-filled Text:</div>
            <textentry value="Select this text and try editing!" style="padding: 5px; background-color: white; border: 1px solid #ccc;"></textentry>
        </div>

        <div style="flex-direction: column; gap: 10px;">
            <div style="font-weight: bold;">Test Results:</div>
            <div style="font-size: 12px;">
                <div>Single Line Value: @SingleLineValue</div>
                <div>Multi Line Value: @MultiLineValue</div>
            </div>
        </div>
    </div>
</root>

@code {
    TextEntry? SingleLineEntry;
    TextEntry? MultiLineEntry;

    string SingleLineValue => SingleLineEntry?.Text ?? "";
    string MultiLineValue => MultiLineEntry?.Text ?? "";

    public override void Tick()
    {
        base.Tick();
        StateHasChanged();
    }
}
